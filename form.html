<!DOCTYPE html>
<html>
  <head>
    <style>
      .contact-form {
        border: 1px solid #A8A8A8;
        max-width: 400px;
      }
      .contact-form > div {
        display: block;
        padding: 4px;
      }
      .contact-form > div:not(:last-child) {
        border-bottom: 1px solid #CCC;
      }
      .contact-form input[type=text] {
        float: right;
        width: 200px;
      }
      .formRow {
        border-bottom: 1px solid blue;
        padding: 4px 10px;
      }
    </style>
  </head>
  <body>
    <h1>Trace</h1>


    <div id="my-form"></div>


    <script src="../js/jquery.js"></script>
    <script>
      // Contact Constructor
      function Contact(
        firstname,
        lastname,
        phoneNumber,
        emailAddress,
        contactReason,
        message
      ) {
        this.firstName = firstname,
        this.lastName = lastname,
        this.phoneNumber = phoneNumber,
        this.emailAddress = emailAddress,
        this.contactReason = contactReason,
        this.message = message;
      }
// the actual key name serves as the name of the form element
// specify form name as formName
// if you don't specify submit button name, will be: <formName>_send

      var contactFormModel = {
        formName: 'contactForm',
        submit: {
          text: 'Send'
        },
        elements: {
          firstName : {
            type: 'text',
            labelText: 'First Name: '
          },
          lastName: {
            type: 'text',
            labelText: 'Last Name: '
          },
          phoneNumber: {
            type: 'text',
            labelText: 'Phone Number: '
          },
          emailAddress: {
            type: 'text'
          },
          message: {
            type: 'textarea',
            id: 'contactMessage',
            labelText: 'Your Message: '
          }
        }
      };

      constructForm($('#my-form'), contactFormModel);

      function constructForm(targetDiv, formModel) {
        // create form element with ID
        targetDiv.append('<form id=' + formModel['formName'] + '></form>');

        // iterate over form model and create elements on page
        for(element in formModel['elements']) {
          console.log(element);
          var elementName = element;
          var elementID = formModel['elements'][element]['id'] === undefined ? elementName : formModel['elements'][element]['id'];
          var elementType = formModel['elements'][element]['type'];
          var elementLabel = formModel['elements'][element]['labelText'] === undefined ? elementName : formModel['elements'][element]['labelText'];

          if(elementType == 'textarea') {
            $('#' + formModel['formName']).append(`
              <div class='formRow'>
                <label for=` + elementID + `>` + elementLabel + `</label>
                <textarea name=` + elementName + ` id=` + elementID + ` rows='5' cols='30'></textarea>
              </div>
            `);
          } else {
            $('#' + formModel['formName']).append(`
              <div class='formRow'>
                <label for=` + elementID + `>` + elementLabel + `</label>
                <input type=` + elementType + ` name=` + elementName + ` id=` + elementID + ` />
              </div>
            `);
          }
        }
      }

    </script>
  </body>
</html>
